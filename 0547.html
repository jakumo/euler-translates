Subject:
Расстояния между случайными точками внутри полых квадратных пластинок

Body:
<div class="problem_content">

<p>Предположив, что две точки выбраны случайным образом (с <b>равномерным распределением</b>) внутри прямоугольника, возможно определить <b>ожидаемое значение</b> расстояния между этими двумя точками.</p>

<p>Например, ожидаемое расстояние между двумя случайными точками в единичном квадрате примерно равно 0.521405, в то время как ожидаемое расстояние между двумя случайными точками в прямоугольнике с длинами сторон 2 и 3 примерно равно 1.317067.</p>

<p>Теперь определим <i>полую квадратную пластинку</i> размером <var>n</var> как квадрат с целочисленной длиной стороны, равной <var>n</var> ≥ 3, состоящий из <var>n</var><sup>2</sup> единичных квадратов, из которого удален прямоугольник, состоящий из <var>x</var> × <var>y</var> единичных квадратов (1 ≤ <var>x</var>,<var>y</var> ≤ <var>n</var> - 2) и лежащий внутри изначального квадрата.</p>

<p>Для <var>n</var> = 3 существует всего одна полая квадратная пластинка:</p>

<p align="center"><img src="https://projecteuler.net/project/images/p547-holes-1.png" alt="p547-holes-1.png" /></p>

<p>Для <var>n</var> = 4 можно найти 9 различных полых квадратных пластинок, среди которых некоторые являются зеркальным отражением других:</p>

<p align="center"><img src="https://projecteuler.net/project/images/p547-holes-2.png" alt="p547-holes-2.png" /></p>

<p>Пусть S(<var>n</var>) будет суммой ожидаемых расстояний между двумя случайными точками в каждой возможной полой квадратноq пластинке размера <var>n</var>. Эти две точки должны лежать на площади, оставшейся после удаления внутреннего прямоугольника, т.е. в закрашенных серым областях на рисунках выше.</p>

<p>Например, S(3) = 1.6514 и S(4) = 19.6564, округленные до четвертого знака после десятичной точки.</p>

<p>Найдите значение S(40), округленное до четвертого знака после десятичной точки.</p>

</div>