Subject:
Постоянная Капрекара

Body:
<div class="problem_content">

<p>
6174 - примечательное число: если мы упорядочим его цифры в порядке возрастания и вычтем полученное число из числа, полученного упорядочиванием тех же цифр по убыванию, мы получим 7641-1467=6174.<br />
Еще более примечательно то, что начав с любого четырехзначного числа и повторяя описанный процесс упорядочивания цифр и вычитания, мы в конце концов получим 6174 или сразу 0, если все цифры одинаковы.<br /> 
Это также происходит и с числами с меньшим количеством цифр, если мы дополним их ведущими нулями до 4-хзначного числа.<br />
К примеру, начнем с числа 0837:<br />
8730-0378=8352<br />
8532-2358=6174
</p>
<p>
6174 называется <b>постоянной Капрекара</b>. Процесс упорядочивания цифр и вычитания, повторяемый до получения числа 0 или постоянной Капрекара, называется <b>преобразованием Капрекара</b>.
</p>
<p>
Можно рассмотреть преобразования Капрекара для других систем исчисления и другого количества цифр.<br /> 
К сожалению, постоянная Капрекара существует не во всех случаях: преобразование может привести к циклу при некоторых исходных числах, или же постоянная, к которой преобразование приведет, может быть разной для разных исходных чисел.<br >
Тем не менее, можно показать, что для 5-изначных чисел в основании <var>b</var> = 6<var>t</var>+3<img src='http://projecteuler.net/images/symbol_ne.gif' width='11' height='10' alt='&ne;' border='0' style='vertical-align:middle;' />9 постоянная Капрекара существует.<br />
Например, основание 15: (10,4,14,9,5)<sub>15</sub><br />
основание 21: (14,6,20,13,7)<sub>21</sub>
</p>
<p>
Определим <var>C<sub>b</sub></var> как постоянную Капрекара в основании <var>b</var> для 5-изначных чисел.
Определим функцию <var>sb(i)</var>, равную
<ul> 
<li> 0, если i = <var>C<sub>b</sub></var> или если <var>i</var>, записанное в основании <var>b</var>, состоит из 5 одинаковых цифр
<li> числу итераций преобразования Капрекара в основании <var>b</var>, приводящему к <var>C<sub>b</sub></var>, во всех остальных случаях
</ul>
Заметим, что мы можем определить <var>sb(i)</var> для всех целых <var>i</var> <img src='http://projecteuler.net/images/symbol_lt.gif' width='10' height='10' alt='&lt;' border='0' style='vertical-align:middle;' /> <var>b</var><sup>5</sup>. Если <var>i</var>, записанное в основании <var>b</var>, имеет меньше пяти цифр, то это число дополняется ведущими нулями до пятизначного перед тем, как применяется преобразование Капрекара.
</p>
<p>
Определим <var>S(b)</var> как сумму <var>sb(i)</var> для 0 <img src='http://projecteuler.net/images/symbol_lt.gif' width='10' height='10' alt='&lt;' border='0' style='vertical-align:middle;' /> <var>i</var> <img src='http://projecteuler.net/images/symbol_lt.gif' width='10' height='10' alt='&lt;' border='0' style='vertical-align:middle;' /> <var>b</var><sup>5</sup>.<br >
Например S(15) = 5274369<br /> 
S(111) = 400668930299
</p>
<p>
Найдите сумму S(6<var>k</var>+3) для 2 <img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' /> <var>k</var> <img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' /> 300.<br />
В качестве ответа приведите последние 18 цифр полученного числа.
</p>
</div>
