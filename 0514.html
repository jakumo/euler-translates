Subject:
Фигуры на геодоске

Body:
<div class="problem_content">

<p><b>Геодоска</b> (порядка <var>N</var>) - это квадратная доска, на поверхности которой через равные интервалы расположены штырьки, представляющие точки с целочисленными координатами на координатной сетке 0 ≤ <var>x</var>,<var>y</var> ≤ <var>N</var>.</p>

<p>Джон начинает с геодоски без штырьков. Каждая позиция на доске представляет собой отверстие, в которое может быть вставлен штырек. Джон генерирует случайное число между 1 и <var>N</var>+1 (включительно) для каждого отверстия на геодоске, и если это число равно 1, вставляет в это отверстие штырек.</p>

<p>После того, как Джон закончил генерировать числа для всех (<var>N</var>+1)<sup>2</sup> отверстий и вставил все необходимые штырьки, он обтягивает тугой резинкой всю группу штырьков на доске. Пусть <var>S</var> обозначает образованную резинкой фигуру. <var>S</var> также можно определить как наименьшую выпуклую фигуру, содержащую все штырьки.</p>

<div align='center'><img src="https://projecteuler.net/project/images/p514_geoboard.png"/></div>

<p>На картинке выше изображен пример доски для <var>N</var> = 4. Зеленые точки показывают позиции, где стоят штырьки, а совокупность синих отрезков изображает резинку. Для этого конкретного расположения площадь <var>S</var> равна 6. Если на доске меньше трех штырьков (или все штырьки лежат на одной прямой), площадь <var>S</var> считается равной нулю.</p>

<p>Пусть E(<var>N</var>) будет ожидаемой площадью <var>S</var> для геодоски порядка <var>N</var>. Например, E(1) = 0.18750, E(2) = 0.94335 и E(10) = 55.03013 при округлении до пятого знака после десятичной точки.</p>

<p>Рассчитайте E(100), округленное до пятого знака после десятичной точки.</p>

</div>