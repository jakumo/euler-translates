Subject:
Дисплеи с цифровыми корнями

Body:
<div class="problem_content">
<div align='center'><img alt='' src="http://projecteuler.net/project/images/p_315_clocks.gif" /></div>
<p>Сэма и Макса попросили превратить пару цифровых дисплеев в дисплеи с "цифровыми корнями".<br />
Дисплей с цифровыми корнями - это цифровой дисплей, который показывают цифровые корни на каждом шагу расчета.</p>
<p>Когда дисплею задают число, он показывает его и начинает производить расчет, при этом показывая все промежуточные значения, пока не получит окончательный результат.<br />
К примеру, если в дисплей ввести число 137, то он последовательно отобразит: "<b>137</b>"
 → "<b>11</b>"
 → "<b>2</b>",
    а затем погаснет, ожидая ввода следующего числа.</p>
<p>Любая цифра образуется несколькими световыми сегментами: тремя горизонтальными (верхний, средний, нижний) и четырьмя вертикальными (верхий левый, верхний правый, нижний левый, нижний правый).<br />
Цифру "<b>1</b>" образуют вертикальные сегменты - верхний правый и нижний правый, цифру "<b>4</b>" образуют средний горизонтальный сегмент и вертикальные верхний левый, верхний правый и нижний правый сегменты. Для цифры "<b>8</b>" загораются все сегменты.</p>
<p>Дисплей потребляет энергию только когда включает/выключает сегменты.<br />
Для того, чтобы включить цифру "<b>2</b>", потребуется 5 переходов, в то время как для "<b>7</b>" - всего 4 перехода.</p>
<p>Сэм и Макс собрали два разных дисплея.</p>
<p>Когда в дисплей Сэма вводят число, например, 137: дисплей показывает "<b>137</b>", затем дисплей гаснет, после чего загорается следующее число ("<b>11</b>"), затем дисплей снова гаснет и наконец загорается последнее число ("<b>2</b>"), а через некоторое время дисплей гаснет окончательно.<br />
Для примера с числом 137 дисплею Сэма потребуется:</p><br />
<table><tr>
<td>"<b>137</b>"</td>
<td>:</td>
<td>(2 + 5 + 4) × 2 = 22 перехода (показать/отключить "<b>137</b>").</td>
</tr><tr>
<td>"<b>11</b>"</td>
<td>:</td>
<td>(2 + 2) × 2 = 8 переходов (показать/отключить "<b>11</b>").</td>
</tr><tr>
<td>"<b>2</b>"</td>
<td>:</td>
<td>(5) × 2 = 10 переходов(показать/отключить "<b>2</b>").</td>
</tr></table>
<p>Таким образом, всего потребуется 40 переходов.</p>
<p>Дисплей Макса работает иначе. Вместо того, чтобы включать/отключать весь дисплей, он достаточно "умен", чтобы выключать только те сегменты, которые не понадобятся для индикации следующего числа.<br />
При вводе числа 137, дисплею Макса потребуется:</p><br />
<table><tr>
<td>"<b>137</b>"<br /><br /></td>
<td>:<br /><br /></td>
<td>2 + 5 + 4 = 11 переходов (показать "<b>137</b>")<br />
7 переходов (на отключение сегментов, которые не нужны для отображения числа "<b>11</b>").</td>
</tr><tr>
<td>"<b>11</b>"<br /><br /><br /></td>
<td>:<br /><br /><br /></td>
<td>0 переходов (число "<b>11</b>" уже правильно отображено на дисплее)<br />
3 перехода (отключить первую цифру "<b>1</b>", а также нижний сегмент второй цифры "<b>1</b>"; <br />
верхний же сегмент остается для отображения числа "<b>2</b>").</td>
</tr><tr>
<td>"<b>2</b>"<br /><br /></td>
<td>:<br /><br /></td>
<td>4 перехода (включить недостающие сегменты для числа "<b>2</b>")<br />
5 переходов (чтобы убрать с дисплея число "<b>2</b>").</td>
</tr></table>
<p>Таким образом, всего потребуется 30 переходов.</p>
<p>Разумеется, дисплей Макса потребляет меньше энергии, чем дисплей Сэма.<br />
В оба дисплея вводят простые числа между A = 10<sup>7</sup> и B = 2 × 10<sup>7</sup>. <br />
Найдите разность общего количества переходов, необходимых дисплеям Сэма и Макса для отображения этих чисел.</p>
</div>