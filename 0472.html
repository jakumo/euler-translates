Subject:
Комфортное расстояние 2

Body:
<div class="problem_content">

<p><var>N</var> сидений расположено в ряд. <var>N</var> человек приходят один за другим и занимают места в соответствии со следующими правилами:

<ol>
<li>Никто не садится рядом с кем-то другим.</li>
<li>Первый человек выбирает любое сидение.</li>
<li>Каждый следующий человек выбирает дальнейшее сидение от всех уже сидящих, в то же время не нарушая правило номер 1. Если есть несколько возможностей, удовлетворяющих этому условию, человек выбирает сидение, расположенное левее всего.</li>
</ol>
</p>

<p>Заметим, что из-за первого правила обязательно останутся незанятые сиденья, а максимальное число рассевшихся человек будет меньше <var>N</var> (для <var>N</var> > 1).</p>

<p>Вот несколько возможных размещений сидящих для <var>N</var> = 15:
<p align='center'><img src='http://projecteuler.net/project/images/p472_n15.png'></p>
</p>

<p>Мы видим, что в зависимости от выбора первого человека 15 сидений могут разместить до 7 человек.<br/>
Также мы видим, что у первого человека есть 9 возможностей привести число рассаженных людей к максимальному значению.</p>

<p>Пусть f(N) будет количеством выбранных первым человеком сидений, которые приведут к максимальному количеству сидящих людей в ряду из <var>N</var> сидений. Таким образом, f(1)&nbsp;=&nbsp;1, f(15)&nbsp;=&nbsp;9, f(20)&nbsp;=&nbsp;6 и f(500)&nbsp;=&nbsp;16.</p>

<p>Также, <img src='http://projecteuler.net/images/symbol_sum.gif' width='11' height='14' alt='&sum;' border='0' style='vertical-align:middle;' />f(N) = 83 для 1&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;<var>N</var>&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;20 и  <img src='http://projecteuler.net/images/symbol_sum.gif' width='11' height='14' alt='&sum;' border='0' style='vertical-align:middle;' />f(N) = 13343 для 1&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;<var>N</var>&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;500.</p>

<p>Найдите <img src='http://projecteuler.net/images/symbol_sum.gif' width='11' height='14' alt='&sum;' border='0' style='vertical-align:middle;' />f(N) для 1&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;<var>N</var>&nbsp;<img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' />&nbsp;10<sup>12</sup>. В качестве ответа приведите последние 8 цифр полученного числа.</p>


</div>