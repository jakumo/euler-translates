Subject:
Игра в перевороты

Body:
<div class="problem_content">

<p>Игра в перевороты - это игра для двух игроков, происходящая на квадратной доске размером N на N.<br />
Каждый квадрат содержит диск, окрашенный с одной стороны в белый цвет, а с другой - в черный.<br />
В начале игры все диски повернуты белой стороной вверх.</p>

<p>За один ход переворачиваются все диски в прямоугольнике, имеющем следующие свойства:
<p><ul>
<li>в верхнем правом углу прямоугольника находится белый диск</li>
<li>ширина прямоугольника является квадратом целого числа (1, 4, 9, 16, ...)</li>
<li>длина прямоугольника является <dfn title="Треугольные числа определяются как &frac12;&nbsp;n(n + 1) для натуральных n.">треугольным числом</dfn> (1, 3, 6, 10, ...)</li>
</ul></p>

<p align='center'><img src='https://projecteuler.net/project/images/p459-flipping-game-0.png'></p>

<p>Игроки ходят поочередно. Игрок побеждает, если после его хода все диски на доске повернуты черной стороной вверх.</p>

<p>Пусть W(N) будет количеством <dfn title="Первый ход в стратегии, которая обеспечивает победу независимо от того, какие ходы делает противник">выигрышных ходов</dfn> для первого игрока на доске размером N на N, покрытой изначально белыми дисками, при идеальной игре.<br />
W(1) = 1, W(2) = 0, W(5) = 8 и W(10<sup>2</sup>) = 31395.</p>

<p>Для N=5, восемью выигрышными первыми ходами первого игрока являются:</p>

<p align='center'><img src='https://projecteuler.net/project/images/p459-flipping-game-1.png'></p>
<p align='center'><img src='https://projecteuler.net/project/images/p459-flipping-game-2.png'></p>

<p>Найдите W(10<sup>6</sup>).</p>

</div>