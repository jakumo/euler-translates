Subject:
У скольких непрерывных дробей период является нечетным при <var>N</var> &le; 10000?

Body:
<div class="problem_content">
<p>Любой квадратный корень является периодическим, если записать его в виде непрерывных дробей в следующей форме:</p>
<div style="margin-left:20px;">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' /><var>N</var> = <var>a</var><img src="" style="display:none;" alt="_(" /><sub>0</sub><img src="" style="display:none;" alt=")" /> +</td>
<td colspan="3" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>1</sub><img src="" style="display:none;" alt=")" /> +</td>
<td colspan="2" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>2</sub><img src="" style="display:none;" alt=")" /> +</td>
<td style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>3</sub><img src="" style="display:none;" alt=")" /> + ...</td>
</tr>
</table>
</div>
<p>К примеру, рассмотрим <img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23:</p>
<div style="margin-left:20px;">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23 = 4 + <img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23 &mdash; 4 = 4 +&nbsp;</td>
<td style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
<td>&nbsp;= 4 +&nbsp;</td>
<td colspan="2" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td><div style="text-align:center;">1<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span></div></td>
<td>&nbsp;</td>
<td>1 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23 &ndash; 3</span><br />7</div></td>
</tr>
</table>
</div>
<p>Продолжив расписывать, мы получим следующее приближение:</p>
<div style="margin-left:20px;">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23 = 4 +</td>
<td colspan="4" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>1 +</td>
<td colspan="3" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>3 +</td>
<td colspan="2" style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>1 +</td>
<td style="border-bottom:1px solid #000;"><div style="text-align:center;">1</div></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>8 + ...</td>
</tr>
</table>
</div>
<p>Этот процесс можно обобщить в следующем виде:</p>
<div style="margin-left:20px;">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>0</sub><img src="" style="display:none;" alt=")" /> = 4,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">1<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+4</span><br />7</div></td>
<td>&nbsp;=&nbsp;1 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span><br />7</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>1</sub><img src="" style="display:none;" alt=")" /> = 1,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">7<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">7(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+3)</span><br />14</div></td>
<td>&nbsp;=&nbsp;3 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span><br />2</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>2</sub><img src="" style="display:none;" alt=")" /> = 3,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">2<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">2(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+3)</span><br />14</div></td>
<td>&nbsp;=&nbsp;1 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span><br />7</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>3</sub><img src="" style="display:none;" alt=")" /> = 1,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">7<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">7(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+4)</span><br />7</div></td>
<td>&nbsp;=&nbsp;8 +&nbsp;</td>
<td><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>4</sub><img src="" style="display:none;" alt=")" /> = 8,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">1<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+4</span><br />7</div></td>
<td>&nbsp;=&nbsp;1 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span><br />7</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>5</sub><img src="" style="display:none;" alt=")" /> = 1,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">7<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">7(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+3)</span><br />14</div></td>
<td>&nbsp;=&nbsp;3 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span><br />2</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>6</sub><img src="" style="display:none;" alt=")" /> = 3,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">2<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;3</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">2(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+3)</span><br />14</div></td>
<td>&nbsp;=&nbsp;1 +&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span><br />7</div></td>
</tr>
<tr>
<td><var>a</var><img src="" style="display:none;" alt="_(" /><sub>7</sub><img src="" style="display:none;" alt=")" /> = 1,</td>
<td>&nbsp;</td>
<td><div style="text-align:center;">7<br /><span style="border-top:1px solid #000;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</span></div></td>
<td>&nbsp;=&nbsp;</td>
<td><div style="text-align:center;"><span style="border-bottom:1px solid #000;">7(<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23+4)</span><br />7</div></td>
<td>&nbsp;=&nbsp;8 +&nbsp;</td>
<td><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23&mdash;4</td>
</tr>
</table>
</div>
<p>Нетрудно увидеть, что последовательность является периодической. Для краткости, введем обозначение <img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />23 = [4;(1,3,1,8)], чтобы показать что блок (1,3,1,8) бесконечно повторяется.</p>

<p>Первые десять представлений непрерывных дробей (иррациональных) квадратных корней:</p>
<p style="margin-left:20px;"><img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />2=[1;(2)], период=1<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />3=[1;(1,2)], период=2<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />5=[2;(4)], период=1<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />6=[2;(2,4)], период=2<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />7=[2;(1,1,1,4)], период=4<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />8=[2;(1,4)], период=2<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />10=[3;(6)], период=1<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />11=[3;(3,6)], период=2<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />12= [3;(2,6)], период=2<br />
<img src='http://projecteuler.net/images/symbol_radic.gif' width='14' height='16' alt='&radic;' border='0' style='vertical-align:middle;' />13=[3;(1,1,1,1,6)], период=5</p>
<p>Период является нечетным у ровно четырех непрерывных дробей, при <var>N</var> <img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' /> 13.</p>
<p>У скольких непрерывных дробей период является нечетным при <var>N</var> <img src='http://projecteuler.net/images/symbol_le.gif' width='10' height='12' alt='&le;' border='0' style='vertical-align:middle;' /> 10000?</p>
</div>


<a target="_blank" href="http://projecteuler.net/index.php?section=problems&amp;id=64">Оригинал</a>
