Subject:
Повторенные перестановки

Body:
<div class="problem_content">

<p>
Определим <i>перестановку</i> как результат операции, меняющей местами элементы множества {1, 2, 3, ..., <var>n</var>}.
Существует всего <var>n</var>! таких перестановок, одна из которых оставляет элементы в их изначальном порядке.
Для <var>n</var> = 3 существует 3! = 6 перестановок:<br />
- P<sub>1</sub> = изначальный порядок<br />
- P<sub>2</sub> = поменять местами 1ый и 2ой элементы<br />
- P<sub>3</sub> = поменять местами 1ый и 3ий элементы<br />
- P<sub>4</sub> = поменять местами 2ой и 3ий элементы<br />
- P<sub>5</sub> = сдвинуть все элементы вправо на одну позицию<br />
- P<sub>6</sub> = сдвинуть все элементы влево на одну позицию
</p>
<p>
Если мы выберем одну из этих перестановок и применим <span style="text-decoration: underline">такую же</span> перестановку несколько раз, в конце концов мы вернемся к изначальному расположению элементов.<br />
Для перестановки P<sub><var>i</var></sub>, пусть f(P<sub><var>i</var></sub>) будет количеством шагов, необходимых для достижения изначального порядка элементов путем повторного применения перестановки P<sub><var>i</var></sub>.<br />
Для <var>n</var> = 3 мы получим:<br />
- f(P<sub>1</sub>) = 1 : (1,2,3) &rarr; (1,2,3)<br />
- f(P<sub>2</sub>) = 2 : (1,2,3) &rarr; (2,1,3) &rarr; (1,2,3)<br />
- f(P<sub>3</sub>) = 2 : (1,2,3) &rarr; (3,2,1) &rarr; (1,2,3)<br />
- f(P<sub>4</sub>) = 2 : (1,2,3) &rarr; (1,3,2) &rarr; (1,2,3)<br />
- f(P<sub>5</sub>) = 3 : (1,2,3) &rarr; (3,1,2) &rarr; (2,3,1) &rarr; (1,2,3)<br />
- f(P<sub>6</sub>) = 3 : (1,2,3) &rarr; (2,3,1) &rarr; (3,1,2) &rarr; (1,2,3)
</p>
<p>
Пусть g(<var>n</var>) будет средним значением f<sup>2</sup>(P<sub><var>i</var></sub>) для всех перестановок P<sub><var>i</var></sub> длиной <var>n</var>.<br />
g(3) = (1<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 3<sup>2</sup> + 3<sup>2</sup>)/3! = 31/6 &asymp; 5.166666667e0<br />
g(5) = 2081/120 &asymp; 1.734166667e1<br />
g(20) = 12422728886023769167301/2432902008176640000 &asymp; 5.106136147e3
</p>
<p>
Найдите g(350) и запишите ответ в стандартном виде округленным до 10 значимых цифр. Используйте строчную латинскую букву "e" для отделения мантиссы от порядка, как это сделанно в вышеприведенных примерах.
</p>

</div>